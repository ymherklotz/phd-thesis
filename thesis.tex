\documentclass[
  svgnames,
  fontsize=12pt,
%  headings=openany,
%  headings=twolinechapter,
  twoside=semi,
  bibliography=totoc,
%  draft=true,
%  headsepline=true,
  ]{scrbook}

\setkomafont{publishers}{\large\itshape}

\renewcommand\chapterlinesformat[3]{%
  \leavevmode\marginpar{\fontsize{96}{115}\selectfont\textcolor{teal}{#2}}%
  {\raggedleft #3\par}%
}

%\usepackage[autooneside=false]{scrlayer-scrpage}
%\pagestyle{scrheadings}
%\automark[section]{chapter}

\usepackage[autostyle]{csquotes}
\usepackage{polyglossia}
\setdefaultlanguage[variant=british]{english}

\usepackage[backend=biber,backref=true,maxbibnames=9]{biblatex}
\addbibresource{thesis-refs.bib}
\addbibresource{oopsla-refs.bib}
\addbibresource{lsr-refs.bib}
\addbibresource{ymh-refs.bib}

%\usepackage{lineno}
%\linenumbers
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{amsfonts}
\usepackage{textcomp}

\usepackage{verbatim}

\usepackage{accents}
\usepackage{enumitem}
\usepackage{soul}
\usepackage{subcaption}

\usepackage{pgfplotstable}
\usepackage{pgfplots}
\pgfplotsset{compat=1.18}

\usepackage{tikz-timing}
\usepackage{tikz}
\usetikzlibrary{arrows,arrows.meta,shapes,snakes,automata,backgrounds,petri,%
                decorations.pathreplacing,calligraphy,patterns,%
                patterns.meta,pgfplots.groupplots,positioning,shapes.geometric,%
                fit,tikzmark}

\usepackage{mathpartir}
\usepackage{multirow}
\usepackage{booktabs}
\usepackage{tikzpagenodes}
\usepackage{microtype}

\usepackage{setspace}
\onehalfspacing

\usepackage{minted}
\setminted{fontsize=\small}
\usemintedstyle{manni}

\usepackage{url}
\usepackage[colorlinks=true,pdfa]{hyperref}
\hypersetup{allcolors=teal}

\usepackage[acronym,index,xindy]{glossaries-extra}
\usepackage{glossary-bookindex}
\setabbreviationstyle[acronym]{long-short}
\makeatletter
\newcommand*{\glsplainhyperlink}[2]{%
    \begingroup%
      \hypersetup{hidelinks}%
      \hyperlink{#1}{#2}%
    \endgroup%
}
\let\@glslink\glsplainhyperlink
\makeatother
\makeglossaries

\usepackage{cleveref}

\usepackage{ymh-macros}

%% https://tex.stackexchange.com/a/535849
\usepackage{hyperxmp}
%\usepackage{embedfile}

%\usepackage{uni-titlepage}
%\TitlePageStyle{UKoLa}

\subject{PhD Thesis}
\title{Formal Verification of High-Level Synthesis}
\author{Yann Herklotz Grave}

\publishers{Supervised by \\ Dr John Wickerson}

\makeatletter
\newcommand\@titlefooter{Submitted in part fulfilment of the requirements for
the degree of Doctor of Philosophy in Electrical and Electronic Engineering of
Imperial College London.}
\makeatother

%\university{Imperial College London}

\hypersetup{%
    pdflang=la,
    pdfapart=3, %set to 1 for PDF/A-1
    pdfaconformance=B
}

%\embedfile[afrelationship={/Source},ucfilespec={\jobname.tex},mimetype={application/x-tex}]{\jobname.tex}

%Create an OutputIntent in order to correctly specify colours
\immediate\pdfobj stream attr{/N 3} file{sRGBIEC1966-2.1.icm}
\pdfcatalog{%
  /OutputIntents [
    <<
      /Type /OutputIntent
      /S /GTS_PDFA1
      /DestOutputProfile \the\pdflastobj\space 0 R
      /OutputConditionIdentifier (sRGB)
      /Info (sRGB)
    >>
  ]
}

% https://tex.stackexchange.com/a/474336
\pdfvariable omitcidset=1

\newacronym{SSA}{SSA}{static single assignment}
\newacronym{GSA}{GSA}{gated-SSA}
\newacronym{HDL}{HDL}{hardware description language}
\newacronym{HLS}{HLS}{high-level synthesis}
\newacronym{FPGA}{FPGA}{field-programmable gate array}
\newacronym{DFG}{DFG}{data-flow graph}
\newacronym{CFG}{CFG}{control-flow graph}
\newacronym{CDFG}{CDFG}{control- and data-flow graph}
\newacronym{SDC}{SDC}{system of difference constraints}
\newacronym{CNF}{CNF}{conjunctive normal form}
\newacronym{SAT}{SAT}{satisfiability}
\newacronym{SMT}{SMT}{satisfiability modulo theory}
\newacronym{DSP}{DSP}{digital signal processor}
\newacronym{ITP}{ITP}{interactive theorem prover}
\newacronym{FSMD}{FSMD}{finite-state machine with data path}
\newacronym{II}{II}{initiation interval}
\newacronym{ASAP}{ASAP}{as soon as possible}
\newacronym{ALAP}{ALAP}{as late as possible}
\newacronym{LUT}{LUT}{look-up table}
\newacronym{MRT}{MRT}{modulo reservation table}
\newacronym{LSQ}{LSQ}{load-store queue}
\newacronym{BRAM}{BRAM}{block random access memory}
\newacronym{ASIC}{ASIC}{application-specific integrated circuit}
\newacronym{IR}{IR}{intermediate representation}
\newacronym{DSL}{DSL}{domain-specific language}
\newacronym{CPU}{CPU}{central processing unit}
\newacronym{GPU}{GPU}{graphics processing unit}
\newacronym{IPcore}{IP core}{intellectual property core}
\newacronym{AST}{AST}{abstract syntax tree}

\newterm[name={``plus'' forward simulation}]{plus-forward-simulation}
\newterm[name={``star'' forward simulation}]{star-forward-simulation}
\newterm{CompCert}
\newterm[name={translation validation}]{translation-validation}

\hyphenation{Comp-Cert Veri-cert Comp-Cert-GSA Comp-Cert-SSA}

%\newterm

\includeonly{%
%  titlepage,
%  copyright-assignment,
%  abstract,
%  acknowledgements,
  chapters/1-introduction,
  chapters/2-background,
%  chapters/3-introduction-to-vericert,
%  chapters/4-trusted-computing-base,
%  chapters/5-hyperblock-scheduling,
%  chapters/6-hardware-generation,
%  chapters/7-evaluation,
%  chapters/8-conclusion,
}

\begin{document}

\include{titlepage}

\include{copyright-assignment}

\include{abstract}

\include{acknowledgements}

\tableofcontents

\listoffigures

\listoftables

\printglossary[type=acronym,nonumberlist]

\glsresetall

\include{chapters/1-introduction}

\include{chapters/2-background}

\include{chapters/3-introduction-to-vericert}

\include{chapters/4-trusted-computing-base}

\include{chapters/5-hyperblock-scheduling}

\include{chapters/6-hardware-generation}

\include{chapters/7-evaluation}

\include{chapters/8-conclusion}

\begingroup
\singlespacing
\printbibliography

\printindex
\endgroup

\end{document}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% TeX-engine: luatex
%%% End:
